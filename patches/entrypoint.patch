diff --git a/test/entrypoint.sh b/test/entrypoint.sh
index 331c0c731..a6c45d067 100755
--- a/test/entrypoint.sh
+++ b/test/entrypoint.sh
@@ -10,32 +10,23 @@ DIR="$( cd "$( dirname "${BASH_SOURCE[0]}" )" && pwd )"
 rm -f /var/run/rsyslogd.pid
 rsyslogd
 
-# make sure we can reach mariadb and proxysql
-./test/wait-for-it.sh boulder-mariadb 3306
-./test/wait-for-it.sh boulder-proxysql 6033
-
-# make sure we can reach vitess
-./test/wait-for-it.sh boulder-vitess 33577
+# make sure we can reach mysql
+./test/wait-for-it.sh boulder-mysql 3306
 
 # make sure we can reach pkilint
 ./test/wait-for-it.sh bpkimetal 8080
 
 # create the databases
 MYSQL_CONTAINER=1 \
-DB_HOST="boulder-mariadb" \
+DB_HOST="boulder-mysql" \
 DB_PORT=3306 \
 DB_CONFIG_FILE="${DIR}/../sa/db/dbconfig.mariadb.yml" \
 SKIP_CREATE=0 \
 SKIP_USERS=0 \
 "$DIR/create_db.sh"
 
-MYSQL_CONTAINER=1 \
-DB_HOST="boulder-vitess" \
-DB_PORT=33577 \
-DB_CONFIG_FILE="${DIR}/../sa/db/dbconfig.mysql8.yml" \
-SKIP_CREATE=1 \
-SKIP_USERS=1 \
-"$DIR/create_db.sh"
+# Generate the internal keys and certs
+./test/certs/generate.sh
 
 if [[ $# -eq 0 ]]; then
     exec python3 ./start.py
